

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>LoopStructural.modelling.core.geological_model &mdash; LoopStructural 0.1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/gallery.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/gallery-binder.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/gallery-dataframe.css" type="text/css" />
    <link rel="author" title="About these documents" href="../../about.html" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> LoopStructural
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../index.html">Loop Structural</a></li>
</ul>
<p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../auto_examples/index.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contributors_guide.html">Contribute</a></li>
</ul>
<p class="caption"><span class="caption-text">LoopStructural API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../API.html">LoopStructural API</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../LoopStructural.interpolators.html">LoopStructural.interpolators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../LoopStructural.modelling.html">LoopStructural.modelling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../LoopStructural.visualisation.html">LoopStructural.visualisation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../LoopStructural.utils.html">LoopStructural.utils</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">LoopStructural</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
      <li>LoopStructural.modelling.core.geological_model</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/_autosummary/_autosummary/LoopStructural.modelling.core.geological_model.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="loopstructural-modelling-core-geological-model">
<h1>LoopStructural.modelling.core.geological_model<a class="headerlink" href="#loopstructural-modelling-core-geological-model" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#members" id="id1">Members</a></p></li>
</ul>
</div>
<span class="target" id="module-LoopStructural.modelling.core.geological_model"></span><div class="section" id="members">
<h2><a class="toc-backref" href="#id1">Members</a><a class="headerlink" href="#members" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="LoopStructural.modelling.core.geological_model.GeologicalModel">
<em class="property">class </em><code class="sig-prename descclassname">LoopStructural.modelling.core.geological_model.</code><code class="sig-name descname">GeologicalModel</code><span class="sig-paren">(</span><em class="sig-param">origin</em>, <em class="sig-param">maximum</em>, <em class="sig-param">rescale=True</em>, <em class="sig-param">nsteps=(40</em>, <em class="sig-param">40</em>, <em class="sig-param">40)</em>, <em class="sig-param">reuse_supports=False</em><span class="sig-paren">)</span><a class="headerlink" href="#LoopStructural.modelling.core.geological_model.GeologicalModel" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A geological model is the recipe for building a 3D model and includes
the rescaling
of the model between 0 and 1.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>origin</strong> (<em>numpy array</em>) – specifying the origin of the model</p></li>
<li><p><strong>maximum</strong> (<em>numpy array</em>) – specifying the maximum extent of the model</p></li>
<li><p><strong>rescale</strong> (<em>bool</em>) – whether to rescale the model to between 0/1</p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="LoopStructural.modelling.core.geological_model.GeologicalModel._add_domain_fault_above">
<code class="sig-name descname">_add_domain_fault_above</code><span class="sig-paren">(</span><em class="sig-param">feature</em><span class="sig-paren">)</span><a class="headerlink" href="#LoopStructural.modelling.core.geological_model.GeologicalModel._add_domain_fault_above" title="Permalink to this definition">¶</a></dt>
<dd><p>Looks through the feature list and adds any domain faults to the feature. The domain fault masks everything
where the fault scalar field is &lt; 0 as being active when added to feature.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>feature</strong> (<a class="reference internal" href="LoopStructural.modelling.features.geological_feature_builder.html#LoopStructural.modelling.features.geological_feature_builder.GeologicalFeatureInterpolator" title="LoopStructural.modelling.features.geological_feature_builder.GeologicalFeatureInterpolator"><em>GeologicalFeatureInterpolator</em></a>) – the feature being added to the model where domain faults should be added</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="LoopStructural.modelling.core.geological_model.GeologicalModel._add_domain_fault_below">
<code class="sig-name descname">_add_domain_fault_below</code><span class="sig-paren">(</span><em class="sig-param">domain_fault</em><span class="sig-paren">)</span><a class="headerlink" href="#LoopStructural.modelling.core.geological_model.GeologicalModel._add_domain_fault_below" title="Permalink to this definition">¶</a></dt>
<dd><p>Looks through the feature list and adds any the domain_fault to the features that already exist in the stack
until an unconformity is reached. domain faults to the feature. The domain fault masks everything
where the fault scalar field is &lt; 0 as being active when added to feature.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>feature</strong> (<a class="reference internal" href="LoopStructural.modelling.features.geological_feature_builder.html#LoopStructural.modelling.features.geological_feature_builder.GeologicalFeatureInterpolator" title="LoopStructural.modelling.features.geological_feature_builder.GeologicalFeatureInterpolator"><em>GeologicalFeatureInterpolator</em></a>) – the feature being added to the model where domain faults should be added</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="LoopStructural.modelling.core.geological_model.GeologicalModel._add_faults">
<code class="sig-name descname">_add_faults</code><span class="sig-paren">(</span><em class="sig-param">feature_builder</em>, <em class="sig-param">features=None</em><span class="sig-paren">)</span><a class="headerlink" href="#LoopStructural.modelling.core.geological_model.GeologicalModel._add_faults" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>feature_builder</strong> – </p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="LoopStructural.modelling.core.geological_model.GeologicalModel._add_feature">
<code class="sig-name descname">_add_feature</code><span class="sig-paren">(</span><em class="sig-param">feature</em><span class="sig-paren">)</span><a class="headerlink" href="#LoopStructural.modelling.core.geological_model.GeologicalModel._add_feature" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a feature to the model stack</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>feature</strong> (<em>GeologicalFeature</em>) – the geological feature to add</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="LoopStructural.modelling.core.geological_model.GeologicalModel._add_unconformity_above">
<code class="sig-name descname">_add_unconformity_above</code><span class="sig-paren">(</span><em class="sig-param">feature</em><span class="sig-paren">)</span><a class="headerlink" href="#LoopStructural.modelling.core.geological_model.GeologicalModel._add_unconformity_above" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a region to the feature to prevent the value from being
interpolated where the unconformities exists above e.g.
if there is another feature above and the unconformity is at 0
then the features added below (after) will only be visible where the
uncomformity is &lt;0</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>- GeologicalFeature</strong> (<em>feature</em>) – </p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="LoopStructural.modelling.core.geological_model.GeologicalModel._add_unconformity_below">
<code class="sig-name descname">_add_unconformity_below</code><span class="sig-paren">(</span><em class="sig-param">feature</em><span class="sig-paren">)</span><a class="headerlink" href="#LoopStructural.modelling.core.geological_model.GeologicalModel._add_unconformity_below" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a region to the features that represents the
unconformity so it is not evaluated below the unconformity</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>feature</strong> – </p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="LoopStructural.modelling.core.geological_model.GeologicalModel.add_onlap_unconformity">
<code class="sig-name descname">add_onlap_unconformity</code><span class="sig-paren">(</span><em class="sig-param">feature</em>, <em class="sig-param">value</em><span class="sig-paren">)</span><a class="headerlink" href="#LoopStructural.modelling.core.geological_model.GeologicalModel.add_onlap_unconformity" title="Permalink to this definition">¶</a></dt>
<dd><p>Use an existing feature to add an unconformity to the model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>feature</strong> (<em>GeologicalFeature</em>) – existing geological feature</p></li>
<li><p><strong>value</strong> (<em>float</em>) – scalar value of isosurface that represents</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="LoopStructural.modelling.core.geological_model.GeologicalModel.add_unconformity">
<code class="sig-name descname">add_unconformity</code><span class="sig-paren">(</span><em class="sig-param">feature</em>, <em class="sig-param">value</em><span class="sig-paren">)</span><a class="headerlink" href="#LoopStructural.modelling.core.geological_model.GeologicalModel.add_unconformity" title="Permalink to this definition">¶</a></dt>
<dd><p>Use an existing feature to add an unconformity to the model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>feature</strong> (<em>GeologicalFeature</em>) – existing geological feature</p></li>
<li><p><strong>value</strong> (<em>float</em>) – scalar value of isosurface that represents</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="LoopStructural.modelling.core.geological_model.GeologicalModel.create_and_add_domain_fault">
<code class="sig-name descname">create_and_add_domain_fault</code><span class="sig-paren">(</span><em class="sig-param">fault_surface_data</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#LoopStructural.modelling.core.geological_model.GeologicalModel.create_and_add_domain_fault" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fault_surface_data</strong> (<em>string</em>) – name of the domain fault data in the data frame</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="LoopStructural.modelling.core.geological_model.GeologicalModel.create_and_add_fault">
<code class="sig-name descname">create_and_add_fault</code><span class="sig-paren">(</span><em class="sig-param">fault_surface_data</em>, <em class="sig-param">displacement</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#LoopStructural.modelling.core.geological_model.GeologicalModel.create_and_add_fault" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fault_surface_data</strong> (<em>string</em>) – name of the fault surface data in the dataframe</p></li>
<li><p><strong>displacement</strong> (<em>displacement magnitude</em>) – </p></li>
<li><p><strong>kwargs</strong> (<em>additional kwargs for Fault and interpolators</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>dictionary</em></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="LoopStructural.modelling.core.geological_model.GeologicalModel.create_and_add_fold_frame">
<code class="sig-name descname">create_and_add_fold_frame</code><span class="sig-paren">(</span><em class="sig-param">foldframe_data</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#LoopStructural.modelling.core.geological_model.GeologicalModel.create_and_add_fold_frame" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>foldframe_data</strong> (<em>string</em>) – unique string in type column</p></li>
<li><p><strong>kwargs</strong> – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="LoopStructural.modelling.core.geological_model.GeologicalModel.create_and_add_folded_fold_frame">
<code class="sig-name descname">create_and_add_folded_fold_frame</code><span class="sig-paren">(</span><em class="sig-param">fold_frame_data</em>, <em class="sig-param">fold_frame=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#LoopStructural.modelling.core.geological_model.GeologicalModel.create_and_add_folded_fold_frame" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fold_frame_data</strong> (<em>string</em>) – </p></li>
<li><p><strong>fold_frame</strong> (<a class="reference internal" href="LoopStructural.modelling.features.structural_frame.html#LoopStructural.modelling.features.structural_frame.StructuralFrame" title="LoopStructural.modelling.features.structural_frame.StructuralFrame"><em>StructuralFrame</em></a>) – </p></li>
<li><p><strong>kwargs</strong> – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="LoopStructural.modelling.core.geological_model.GeologicalModel.create_and_add_folded_foliation">
<code class="sig-name descname">create_and_add_folded_foliation</code><span class="sig-paren">(</span><em class="sig-param">foliation_data</em>, <em class="sig-param">fold_frame=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#LoopStructural.modelling.core.geological_model.GeologicalModel.create_and_add_folded_foliation" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a folded foliation field from data and a fold frame</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>foliation_data</strong> (<em>string</em>) – unique string in type column of data frame</p></li>
<li><p><strong>fold_frame</strong> (<em>FoldFrame</em>) – </p></li>
<li><p><strong>kwargs</strong> – additional kwargs to be passed through to other functions</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>dict</em></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="LoopStructural.modelling.core.geological_model.GeologicalModel.create_and_add_foliation">
<code class="sig-name descname">create_and_add_foliation</code><span class="sig-paren">(</span><em class="sig-param">series_surface_data</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#LoopStructural.modelling.core.geological_model.GeologicalModel.create_and_add_foliation" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>series_surface_data</strong> (<em>string</em>) – corresponding to the type in the data</p></li>
<li><p><strong>kwargs</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>results dict</em></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="LoopStructural.modelling.core.geological_model.GeologicalModel.create_and_add_unconformity">
<code class="sig-name descname">create_and_add_unconformity</code><span class="sig-paren">(</span><em class="sig-param">unconformity_surface_data</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#LoopStructural.modelling.core.geological_model.GeologicalModel.create_and_add_unconformity" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>unconformity_surface_data</strong> (<em>string</em>) – name of the unconformity data in the data frame</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="LoopStructural.modelling.core.geological_model.GeologicalModel.evaluate_model">
<code class="sig-name descname">evaluate_model</code><span class="sig-paren">(</span><em class="sig-param">xyz</em><span class="sig-paren">)</span><a class="headerlink" href="#LoopStructural.modelling.core.geological_model.GeologicalModel.evaluate_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate the stratigraphic id at each location</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>xyz</strong> (<em>np.array</em><em>(</em><em>(</em><em>N</em><em>,</em><em>3</em><em>)</em><em>,</em><em>dtype=float</em><em>)</em>) – locations</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>stratigraphic_id</strong> (<em>np.array(N,dtype=int)</em>) – the stratigraphic index for locations</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Evaluate on a voxet</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bounding_box</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">bounding_box</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
<span class="go">                nsteps[0])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bounding_box</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">bounding_box</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
<span class="go">                nsteps[1])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">z</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bounding_box</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">bounding_box</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
<span class="go">                nsteps[2])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">xx</span><span class="p">,</span> <span class="n">yy</span><span class="p">,</span> <span class="n">zz</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">meshgrid</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="n">indexing</span><span class="o">=</span><span class="s1">&#39;ij&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">xyz</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">xx</span><span class="o">.</span><span class="n">flatten</span><span class="p">(),</span> <span class="n">yy</span><span class="o">.</span><span class="n">flatten</span><span class="p">(),</span> <span class="n">zz</span><span class="o">.</span><span class="n">flatten</span><span class="p">()])</span><span class="o">.</span><span class="n">T</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">evaluate_model</span><span class="p">(</span><span class="n">xyz</span><span class="p">)</span>
</pre></div>
</div>
<p>Evaluate on points defined by regular grid function</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">evaluate_model</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">regular_grid</span><span class="p">())</span>
</pre></div>
</div>
<p>Evaluate on a map</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bounding_box</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">bounding_box</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
<span class="go">                nsteps[0])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bounding_box</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">bounding_box</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
<span class="go">                nsteps[1])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">xx</span><span class="p">,</span> <span class="n">yy</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">meshgrid</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">indexing</span><span class="o">=</span><span class="s1">&#39;ij&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">zz</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros_like</span><span class="p">(</span><span class="n">yy</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">xyz</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">xx</span><span class="o">.</span><span class="n">flatten</span><span class="p">(),</span> <span class="n">yy</span><span class="o">.</span><span class="n">flatten</span><span class="p">(),</span> <span class="n">zz</span><span class="o">.</span><span class="n">flatten</span><span class="p">()])</span><span class="o">.</span><span class="n">T</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">evaluate_model</span><span class="p">(</span><span class="n">xyz</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="LoopStructural.modelling.core.geological_model.GeologicalModel.extend_model_data">
<code class="sig-name descname">extend_model_data</code><span class="sig-paren">(</span><em class="sig-param">newdata</em><span class="sig-paren">)</span><a class="headerlink" href="#LoopStructural.modelling.core.geological_model.GeologicalModel.extend_model_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Extends the data frame</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>newdata</strong> (<em>pandas data frame</em>) – data to add to the existing dataframe</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="LoopStructural.modelling.core.geological_model.GeologicalModel.from_map2loop_directory">
<em class="property">classmethod </em><code class="sig-name descname">from_map2loop_directory</code><span class="sig-paren">(</span><em class="sig-param">m2l_directory</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#LoopStructural.modelling.core.geological_model.GeologicalModel.from_map2loop_directory" title="Permalink to this definition">¶</a></dt>
<dd><p>Alternate constructor for a geological model using m2l output</p>
<p>Uses the information saved in the map2loop files to build a geological model.
You can specify kwargs for building foliation using foliation_params and for
faults using fault_params. skip_faults is a flag that allows for the faults to be skipped.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>m2l_directory</strong> (<em>string</em>) – path to map2loop directory</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>(GeologicalModel, dict)</em> – the created geological model and a dictionary of the map2loop data</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="LoopStructural.modelling.core.geological_model.GeologicalModel.get_interpolator">
<code class="sig-name descname">get_interpolator</code><span class="sig-paren">(</span><em class="sig-param">interpolatortype='PLI'</em>, <em class="sig-param">nelements=500000.0</em>, <em class="sig-param">buffer=0.2</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#LoopStructural.modelling.core.geological_model.GeologicalModel.get_interpolator" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an interpolator given the arguments, also constructs a
support for a discrete interpolator</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>interpolatortype</strong> (<em>string</em>) – define the interpolator type</p></li>
<li><p><strong>nelements</strong> (<em>int</em>) – number of elements in the interpolator</p></li>
<li><p><strong>buffer</strong> (<em>double</em><em> or </em><em>numpy array 3x1</em>) – value(s) between 0,1 specifying the buffer around the bounding box</p></li>
<li><p><strong>data_bb</strong> (<em>bool</em>) – whether to use the model boundary or the boundary around</p></li>
<li><p><strong>kwargs</strong> (<em>no kwargs used</em><em>, </em><em>this just catches any additional arguments</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="LoopStructural.modelling.core.geological_model.GeologicalModel.regular_grid">
<code class="sig-name descname">regular_grid</code><span class="sig-paren">(</span><em class="sig-param">nsteps=(50</em>, <em class="sig-param">50</em>, <em class="sig-param">25)</em>, <em class="sig-param">shuffle=True</em><span class="sig-paren">)</span><a class="headerlink" href="#LoopStructural.modelling.core.geological_model.GeologicalModel.regular_grid" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a regular grid within the model bounding box</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>nsteps</strong> (<em>tuple</em>) – number of cells in x,y,z</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>xyz</strong> (<em>np.array((N,3),dtype=float)</em>) – locations of points in regular grid</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="LoopStructural.modelling.core.geological_model.GeologicalModel.rescale">
<code class="sig-name descname">rescale</code><span class="sig-paren">(</span><em class="sig-param">points</em><span class="sig-paren">)</span><a class="headerlink" href="#LoopStructural.modelling.core.geological_model.GeologicalModel.rescale" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert from model scale to real world scale - in the future this
should also do transformations?</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>points</strong> – </p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="LoopStructural.modelling.core.geological_model.GeologicalModel.scale">
<code class="sig-name descname">scale</code><span class="sig-paren">(</span><em class="sig-param">points</em><span class="sig-paren">)</span><a class="headerlink" href="#LoopStructural.modelling.core.geological_model.GeologicalModel.scale" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>points</strong> (<em>np.array</em><em>(</em><em>(</em><em>N</em><em>,</em><em>3</em><em>)</em><em>,</em><em>dtype=float</em><em>)</em>) – points to</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="LoopStructural.modelling.core.geological_model.GeologicalModel.set_model_data">
<code class="sig-name descname">set_model_data</code><span class="sig-paren">(</span><em class="sig-param">data</em><span class="sig-paren">)</span><a class="headerlink" href="#LoopStructural.modelling.core.geological_model.GeologicalModel.set_model_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the data array for the model</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>data</strong> (<em>pandas data frame</em>) – with column headers corresponding to the
type, X, Y, Z, nx, ny, nz, val, strike, dip, dip_dir, plunge,
plunge_dir, azimuth</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Type can be any unique identifier for the feature the data point
‘eg’ ‘S0’, ‘S2’, ‘F1_axis’
it is then used by the create functions to get the correct data</p>
</div>
</dd></dl>

<dl class="method">
<dt id="LoopStructural.modelling.core.geological_model.GeologicalModel.set_stratigraphic_column">
<code class="sig-name descname">set_stratigraphic_column</code><span class="sig-paren">(</span><em class="sig-param">stratigraphic_column</em><span class="sig-paren">)</span><a class="headerlink" href="#LoopStructural.modelling.core.geological_model.GeologicalModel.set_stratigraphic_column" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a stratigraphic column to the model</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>stratigraphic_column</strong> (<em>dictionary</em>) – </p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>stratigraphic_column is a nested dictionary with the format
{‘group’:</p>
<blockquote>
<div><dl class="simple">
<dt>{‘series1’:</dt><dd><p>{‘min’:0., ‘max’:10.,’id’:0}</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>}</p>
</dd></dl>

<dl class="method">
<dt id="LoopStructural.modelling.core.geological_model.GeologicalModel.voxet">
<code class="sig-name descname">voxet</code><span class="sig-paren">(</span><em class="sig-param">nsteps=(50</em>, <em class="sig-param">50</em>, <em class="sig-param">25)</em><span class="sig-paren">)</span><a class="headerlink" href="#LoopStructural.modelling.core.geological_model.GeologicalModel.voxet" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a voxet dict with the nsteps specified</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>nsteps</strong> (<em>tuple</em>) – number of cells in</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="LoopStructural.modelling.core.geological_model._calculate_average_intersection">
<code class="sig-prename descclassname">LoopStructural.modelling.core.geological_model.</code><code class="sig-name descname">_calculate_average_intersection</code><span class="sig-paren">(</span><em class="sig-param">series_builder</em>, <em class="sig-param">fold_frame</em>, <em class="sig-param">fold</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#LoopStructural.modelling.core.geological_model._calculate_average_intersection" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>series_builder</strong> – </p></li>
<li><p><strong>fold_frame</strong> – </p></li>
<li><p><strong>fold</strong> – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Lachlan Grose

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
  
 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .header").show();
        $(".toggle .header").click(function() {
            $(this).parent().children().not(".header").toggle(400);
            $(this).parent().children(".header").toggleClass("open");
        })
    });
</script>


</body>
</html>